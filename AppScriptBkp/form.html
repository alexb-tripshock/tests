<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  padding: 16px;
  background: linear-gradient(to right, #74ebd5, #ACB6E5);
  font-family: 'Segoe UI', sans-serif;
  color: #2c3e50;
  display: flex;
  flex-direction: column;
  align-items: center;
  box-sizing: border-box;
  min-height: 100vh;
}

h2, h3 {
  font-size: 1.6rem;
  text-align: center;
  font-weight: 600;
  margin-bottom: 16px;
}

input[type="text"], select, button {
  width: 100%;
  max-width: 400px;
  padding: 14px;
  font-size: 1rem;
  border-radius: 8px;
  border: 1px solid #ccc;
  margin-bottom: 20px;
  box-sizing: border-box;
}

#questions {
  width: 100%;
  max-width: 400px;
}

#questions p {
  font-weight: bold;
  font-size: 1rem;
  margin: 16px 0 8px;
  text-align: left;
}

button {
  background-color: #3498db;
  color: white;
  border: none;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

button:hover {
  background-color: #2980b9;
}

.result-message {
  background: white;
  padding: 18px;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  font-size: 1.05rem;
  border-left: 5px solid #27ae60;
  width: 100%;
  max-width: 380px;
  text-align: center;
}
</style>
</head>
<body>
  <h2>Введите Ваш ник из чата:</h2>
  <input type="text" id="nickname" placeholder="Ваш ник чатланин..." />
  
  <h2>Город (необязательно):</h2>
  <input type="text" id="city" placeholder="Введите Ваш город..." />

  <div id="questions">
  <!--  <p>1. Верите ли вы, что вы особенный и уникальный?</p>
    <select id="q1"><option value="0">Нет</option><option value="1">Да</option></select>
  -->
  <p>1. Верите ли вы, что вы особенный и уникальный?</p>
  <div>
    <input type="radio" name="q1" id="q1_no" value="0">
    <label for="q1_no">Нет</label>
    <input type="radio" name="q1" id="q1_yes" value="1">
    <label for="q1_yes">Да</label>
  </div>
  <p>2. Ожидаете ли вы особого отношения к себе?</p>
  <div>
    <input type="radio" name="q2" id="q2_no" value="0">
    <label for="q2_no">Нет</label>
    <input type="radio" name="q2" id="q2_yes" value="1">
    <label for="q2_yes">Да</label>
  </div>
  <p>3. Часто ли вы используете других людей для достижения своих целей?</p>
  <div>
    <input type="radio" name="q3" id="q3_no" value="0">
    <label for="q3_no">Нет</label>
    <input type="radio" name="q3" id="q3_yes" value="1">
    <label for="q3_yes">Да</label>
  </div>
  <p>4. Испытываете ли вы трудности с критикой в свой адрес?</p>
  <div>
    <input type="radio" name="q4" id="q4_no" value="0">
    <label for="q4_no">Нет</label>
    <input type="radio" name="q4" id="q4_yes" value="1">
    <label for="q4_yes">Да</label>
  </div>
  <p>5. Склонны ли вы переоценивать свои достижения и способности?</p>
  <div>
    <input type="radio" name="q5" id="q5_no" value="0">
    <label for="q5_no">Нет</label>
    <input type="radio" name="q5" id="q5_yes" value="1">
    <label for="q5_yes">Да</label>
  </div>
  <p>6. Часто ли вы завидуете другим людям?</p>
  <div>
    <input type="radio" name="q6" id="q6_no" value="0">
    <label for="q6_no">Нет</label>
    <input type="radio" name="q6" id="q6_yes" value="1">
    <label for="q6_yes">Да</label>
  </div>
  <p>7. Испытываете ли вы трудности с эмпатией к другим людям?</p>
  <div>
    <input type="radio" name="q7" id="q7_no" value="0">
    <label for="q7_no">Нет</label>
    <input type="radio" name="q7" id="q7_yes" value="1">
    <label for="q7_yes">Да</label>
  </div>
  <p>8. Склонны ли вы манипулировать другими людьми для достижения своих целей?</p>
  <div>
    <input type="radio" name="q8" id="q8_no" value="0">
    <label for="q8_no">Нет</label>
    <input type="radio" name="q8" id="q8_yes" value="1">
    <label for="q8_yes">Да</label>
  </div>
<!--
    <p>2. Ожидаете ли вы особого отношения к себе?</p>
    <select id="q2"><option value="0">Нет</option><option value="1">Да</option></select>

    <p>3. Часто ли вы используете других людей для достижения своих целей?</p>
    <select id="q3"><option value="0">Нет</option><option value="1">Да</option></select>

    <p>4. Испытываете ли вы трудности с критикой в свой адрес?</p>
    <select id="q4"><option value="0">Нет</option><option value="1">Да</option></select>

    <p>5. Склонны ли вы переоценивать свои достижения и способности?</p>
    <select id="q5"><option value="0">Нет</option><option value="1">Да</option></select>

    <p>6. Часто ли вы завидуете другим людям?</p>
    <select id="q6"><option value="0">Нет</option><option value="1">Да</option></select>

    <p>7. Испытываете ли вы трудности с эмпатией к другим людям?</p>
    <select id="q7"><option value="0">Нет</option><option value="1">Да</option></select>

    <p>8. Склонны ли вы манипулировать другими людьми для достижения своих целей?</p>
    <select id="q8"><option value="0">Нет</option><option value="1">Да</option></select>
  </div>
-->
  <button onclick="submitAnswers()">Отправить</button>

  <script>
    function submitAnswers() {
      const nickname = document.getElementById("nickname").value.trim();
      const city = document.getElementById("city").value.trim();
      if (!nickname) return alert("Введите никнейм!");

    /*  let score = 0;
      for (let i = 1; i <= 8; i++) {
        score += parseInt(document.getElementById(`q${i}`).value);
      }
    */

    let score = 0;
    for (let i = 1; i <= 8; i++) {
      const selected = document.querySelector(`input[name="q${i}"]:checked`);
      if (selected) {
        score += parseInt(selected.value);
      }
    }




      let feedback = "";
      if (score <= 2) {
        feedback = "Возможно, у вас есть некоторые нарциссические тенденции, но они не доминируют в вашем поведении.";
      } else if (score <= 5) {
        feedback = "В вас могут быть выраженные нарциссические тенденции, которые могут влиять на ваши отношения и поведение.";
      } else {
        feedback = "Возможно, у вас есть выраженный нарциссический стиль поведения, который может негативно влиять на ваши отношения и общее благополучие.";
      }

      google.script.run.recordResponse({ nickname, city, score });

      document.body.innerHTML = `
        <h3>Спасибо, ${nickname}! Ваш результат: ${score} из 8</h3>
        <div class="result-message">${feedback}</div>
      `;
    }
  </script>
</body>
</html>